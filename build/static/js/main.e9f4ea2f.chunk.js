(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,a){},131:function(e,a,t){},132:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),o=t.n(l),c=t(16),m=t(70),i=t(26),s=t(6),u=t(5),g=t(140),p=t(135),d=t(136),f=t(71),E=t.n(f),v=t(33),b=t.n(v),h=t(72),_=t.n(h),j=t(18),O=t.n(j);var y=function(e){var a=e.currentRoom,l=e.score,o=e.yourID,c=e.turn,m=t(67),i=Object(n.useState)([]),s=Object(u.a)(i,2),g=s[0],f=s[1],E=Object(n.useState)([]),v=Object(u.a)(E,2),b=v[0],h=v[1];Object(n.useEffect)((function(){if("object"===typeof a[0]){var e=Object.values(a[0]);f(e)}if("object"===typeof a[1]){var t=Object.values(a[1]);h(t)}else h([null,"Aguardando un jugador...",null,null])}),[a]);var _=function(e){if(c===e)return o===e?r.a.createElement("p",{className:O.a.myturn},"Mi turno"):r.a.createElement("p",{className:O.a.waiting},"Esperando...")};return r.a.createElement(p.a,null,r.a.createElement(d.a,{md:"4",xs:"6"},r.a.createElement("div",{className:"d-flex flex-column align-items-center mt-3"},r.a.createElement("img",{src:m[g[2]],alt:"",className:O.a.avatar}),r.a.createElement("p",{className:O.a.title},g[1]),_(g[0]))),r.a.createElement(d.a,{md:{order:1,span:4},xs:{order:2,span:12}},r.a.createElement("p",{className:O.a.scoreBoard},l[0],":",l[1])),r.a.createElement(d.a,{md:{order:2,span:4},xs:{order:1,span:6}},r.a.createElement("div",{className:"d-flex flex-column align-items-center mt-3"},r.a.createElement("img",{src:m[b[2]],alt:"",className:O.a.avatar}),r.a.createElement("p",{className:O.a.title},b[1]),_(b[0]))))},w=t(74),C=t.n(w);var x=function(e){return r.a.createElement("div",{id:e.id,className:C.a.square,onClick:e.handleClick},e.value)},N=t(138),S=t(139);var k,R=function(e){return r.a.createElement(N.a,{show:e.show,onHide:e.handleClose,centered:!0,backdrop:"static",keyboard:!1},r.a.createElement(N.a.Header,null,r.a.createElement(N.a.Title,null,e.title)),r.a.createElement(N.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"d-flex justify-content-center align-items-center"},r.a.createElement("img",{src:e.image,alt:"",width:"60%"})))),r.a.createElement(N.a.Footer,null,r.a.createElement(S.a,{variant:"danger",onClick:e.action1},e.button1),r.a.createElement(S.a,{variant:"success",onClick:e.action2},e.button2)))},B=t(24),A=t.n(B),I=!1,F=!1;var z,q=function(e){var a=e.location,t=Object(c.d)(),l=Object(n.useState)(!1),o=Object(u.a)(l,2),m=o[0],i=o[1],f=Object(n.useState)([]),v=Object(u.a)(f,2),h=v[0],j=v[1],O=Object(n.useState)(!1),w=Object(u.a)(O,2),C=w[0],N=w[1],S=Object(n.useState)(""),B=Object(u.a)(S,2),z=B[0],q=B[1],T=Object(n.useState)({}),J=Object(u.a)(T,2),P=J[0],L=J[1],M=Object(n.useState)([]),D=Object(u.a)(M,2),G=D[0],H=D[1],X=Object(n.useState)([]),Z=Object(u.a)(X,2),K=Z[0],Q=Z[1],V=Object(n.useState)(""),W=Object(u.a)(V,2),Y=W[0],U=W[1],$=Object(n.useState)([0,0]),ee=Object(u.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(!1),re=Object(u.a)(ne,2),le=re[0],oe=re[1],ce=Object(n.useState)(""),me=Object(u.a)(ce,2),ie=me[0],se=me[1],ue=_()(Array(9).fill(null),(function(){k&&I&&(k.emit("nextTurn",{room:z,squares:pe}),I=!1),k&&F&&(k.emit("newGame",{room:z,squares:pe}),F=!1)})),ge=Object(u.a)(ue,2),pe=ge[0],de=ge[1];Object(n.useEffect)((function(){var e=E.a.parse(a.search),t=e.name,n=e.room,r=e.img;(k=b()("localhost:5000")).emit("join",{name:t,room:n,img:r},(function(e){e&&("string"===typeof e?U(e):(L({id:e.id,name:e.name,room:e.room,player:e.player,type:e.type}),2===e.currentRoom.length&&H({id:e.currentRoom[0].id,name:e.currentRoom[0].name,room:e.currentRoom[0].room,player:e.currentRoom[0].player,type:e.currentRoom[0].type}),q(e.room),Q(e.currentRoom)))}))}),[a.search]),Object(n.useEffect)((function(){2===K.length?(oe(!0),k.emit("getTurn",z)):oe(!1)}),[K,z]),Object(n.useEffect)((function(){k.on("roomData",(function(e){if(e){if(e.currentRoom.length>1){var a=P.id===e.currentRoom[0].id?1:0;H({id:e.currentRoom[a].id,name:e.currentRoom[a].name,room:e.currentRoom[a].room,player:e.currentRoom[a].player,type:e.currentRoom[a].type})}Q(e.currentRoom)}}))}),[P,K]),Object(n.useEffect)((function(){k.on("leave",(function(){t.error("El oponente abandon\xf3. Se ha cerrado la sala."),N(!0)}))}),[t]),Object(n.useEffect)((function(){return k.on("sendTurn",(function(e){e&&se(e)})),function(){return k.close()}}),[]),Object(n.useEffect)((function(){k.on("sendSquares",(function(e){de(e);var a=function(e){for(var a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<a.length;t++){var n=Object(u.a)(a[t],3),r=n[0],l=n[1],o=n[2];if(e[r]&&e[r]===e[l]&&e[r]===e[o])return e[r]}return null}(e);if(a){var t=ae[0],n=ae[1];"X"===a?t+=1:n+=1,te([t,n]),i(!0);var r=a===P.type?P.name:G.name;j([1,"Gan\xf3 ".concat(r,"!"),r])}else{0===e.filter((function(e){return null===e})).length&&(i(!0),j([1,"Empate!","Empate"]))}}))}),[ae,de,P,G,t]);var fe=function(){k.emit("leaveRoom"),t.success("Se ha abandonado la sala."),N(!0)},Ee=function(e){if(P.id===ie&&null===pe[e.target.id]){var a=pe.slice();a[e.target.id]=P.type,I=!0,de(a)}};return r.a.createElement("div",null,r.a.createElement(g.a,{className:"mb-3 ".concat(A.a.outerCardContainer)},r.a.createElement(g.a.Body,null,r.a.createElement("p",{className:"text-center"},Y),r.a.createElement(p.a,null,r.a.createElement(d.a,{className:"d-flex justify-content-center"},r.a.createElement("div",{className:A.a.rowContainer},r.a.createElement("div",{className:A.a.row},r.a.createElement(x,{id:"0",value:pe[0],handleClick:Ee}),r.a.createElement(x,{id:"1",value:pe[1],handleClick:Ee}),r.a.createElement(x,{id:"2",value:pe[2],handleClick:Ee})),r.a.createElement("div",{className:A.a.row},r.a.createElement(x,{id:"3",value:pe[3],handleClick:Ee}),r.a.createElement(x,{id:"4",value:pe[4],handleClick:Ee}),r.a.createElement(x,{id:"5",value:pe[5],handleClick:Ee})),r.a.createElement("div",{className:A.a.row},r.a.createElement(x,{id:"6",value:pe[6],handleClick:Ee}),r.a.createElement(x,{id:"7",value:pe[7],handleClick:Ee}),r.a.createElement(x,{id:"8",value:pe[8],handleClick:Ee}))))),r.a.createElement("hr",null),r.a.createElement("p",{className:"btn btn-secondary",onClick:fe},"Abandonar")),r.a.createElement(g.a.Footer,null,""===Y?r.a.createElement(y,{currentRoom:K,score:ae,yourID:P.id,turn:ie}):null)),C?r.a.createElement(s.c,{to:"/"}):null,1===h[0]?r.a.createElement(R,{show:m,handleClose:function(){i(!1)},title:"".concat(h[1]),body:"Gan\xf3 la partida",button2:"Continuar",action2:function(){F=!0,de(Array(9).fill(null)),i(!1)},button1:"Abandonar",action1:fe,image:"Empate"!==h[2]?h[2]===P.name?"./img/winner.gif":"./img/loser.gif":"./img/tie.gif"}):null,r.a.createElement("p",{stlye:{display:"none"}},le))},T=t(137),J=t(79),P=t(20),L=t.n(P);var M=function(){var e=Object(c.d)(),a=Object(n.useState)([Math.floor(8999*Math.random())+1e3]),l=Object(u.a)(a,2),o=l[0],m=l[1],i=Object(n.useState)("Jugador".concat([Math.floor(98999*Math.random())+1e3])),f=Object(u.a)(i,2),E=f[0],v=f[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),j=_[0],O=_[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),C=w[0],x=w[1],N=Object(n.useState)(!1),S=Object(u.a)(N,2),k=S[0],R=S[1],B=Object(n.useState)([]),A=Object(u.a)(B,2),I=A[0],F=A[1],q=t(67),P=Object(n.useState)(0),M=Object(u.a)(P,2),D=M[0],G=M[1];return Object(n.useEffect)((function(){return(z=b()("localhost:5000")).emit("getRoomsAvailable",null,(function(e){e&&F(e)})),function(){z.close()}}),[]),Object(n.useEffect)((function(){z.on("roomsAvailable",(function(e){F(e)}))})),r.a.createElement("div",null,r.a.createElement(g.a,{className:"mb-3 ".concat(L.a.outerCardContainer)},r.a.createElement(g.a.Body,null,r.a.createElement("h3",{className:L.a.title},"Ingresar"),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"form-inline d-flex justify-content-center my-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nickname"},"Apodo\u2003"),r.a.createElement("input",{id:"nickname",value:E,type:"text",onChange:function(e){return v(e.target.value)},placeholder:"Apodo",className:"form-control my-1 mr-2"})),r.a.createElement("img",{src:q[D.toString()],alt:"",height:"70px",className:L.a.imgProfile,onClick:function(){var e=D;e=e<q.length-1?++e:0,G(e)}})))),r.a.createElement("hr",null),r.a.createElement(p.a,{className:"mb-4"},r.a.createElement(d.a,{md:"8",sm:"12"},r.a.createElement("label",{htmlFor:"create-room"},"Crear una Sala"),r.a.createElement("input",{id:"create-room",type:"number",placeholder:"ID de la Sala",value:o,onChange:function(e){return m(e.target.value)},className:"form-control my-1"})),r.a.createElement(d.a,{md:"4",sm:"12"},r.a.createElement("div",{className:"btn btn-secondary ".concat(L.a.btnFull),onClick:function(){z.emit("getRoom",o,(function(a){a&&("object"===typeof a?R(!0):e.error("La sala ".concat(o," ya existe.")))}))}},"Crear Sala"))),r.a.createElement("hr",null),r.a.createElement(p.a,{className:"mb-4"},r.a.createElement(d.a,{md:"8",sm:"12"},r.a.createElement("label",{htmlFor:"join-room"},"Ingresar a una Sala"),r.a.createElement("input",{id:"join-room",type:"number",placeholder:"ID de la Sala",onChange:function(e){return O(e.target.value)},className:"form-control my-1"})),r.a.createElement(d.a,{md:"4",sm:"12"},r.a.createElement("div",{className:"btn btn-secondary ".concat(L.a.btnFull),onClick:function(){z.emit("getRoom",j,(function(a){a&&("object"===typeof a?e.error(a.error):x(!0))}))}},"Ingresar"))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("label",null,"Salas disponibles: "))),r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:"12"},I.map((function(e,a){return r.a.createElement(J.LinkContainer,{to:"/game?room=".concat(e,"&name=").concat(E,"&img=").concat(D),key:a},r.a.createElement(T.a,{pill:!0,variant:"primary",className:L.a.badge},e))})))))),C?r.a.createElement(s.c,{to:"/game?room=".concat(j,"&name=").concat(E,"&img=").concat(D)}):null,k?r.a.createElement(s.c,{to:"/game?room=".concat(o,"&name=").concat(E,"&img=").concat(D)}):null)},D=t(29),G=t(30);var H=function(){return r.a.createElement("div",{style:{color:"white",height:"150px",textAlign:"center",textShadow:"1px 1px 3px #333333"}},r.a.createElement("p",null,"Desarrollado con"," ",r.a.createElement("span",null,r.a.createElement("img",{src:"./img/corazon.png",alt:"",height:"20px"}))," ","por Exequiel Schvartz. Powered by"," ",r.a.createElement(D.a,{icon:G.d,style:{fontSize:"20px"}})," &"," ",r.a.createElement(D.a,{icon:G.c,style:{fontSize:"20px"}}),"."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://linkedin.com/in/exequielschvartz",target:"_blank",style:{color:"white"},rel:"noopener noreferrer"},r.a.createElement(D.a,{icon:G.b,size:"2x"})),"  ",r.a.createElement("a",{href:"https://github.com/exemas/tictactoe-online",target:"_blank",style:{color:"white"},rel:"noopener noreferrer"},r.a.createElement(D.a,{icon:G.a,size:"2x"}))))},X=t(35),Z=t.n(X);var K=function(){return r.a.createElement(i.BrowserRouter,null,r.a.createElement("div",{className:Z.a.outerContainer},r.a.createElement("div",{className:Z.a.innerContainer},r.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-center"},r.a.createElement("img",{src:"./img/logo.png",alt:"",height:"60px"}),r.a.createElement("h1",{className:Z.a.title},"\xa0TaTeTi.io")),r.a.createElement(s.d,{path:"/",exact:!0,component:M}),r.a.createElement(s.d,{path:"/game",component:q})),r.a.createElement(H,null)))},Q=(t(131),{position:c.b.BOTTOM_CENTER,timeout:5e3,transition:c.c.SCALE}),V=function(){return r.a.createElement(c.a,Object.assign({template:m.a},Q),r.a.createElement(K,null))};o.a.render(r.a.createElement(V,null),document.getElementById("root"))},18:function(e,a,t){e.exports={title:"InfoBar_title__1vkwb",scoreBoard:"InfoBar_scoreBoard__MCKsH",avatar:"InfoBar_avatar__27cA4",waiting:"InfoBar_waiting__3Xiqk",myturn:"InfoBar_myturn__kFouP"}},20:function(e,a,t){e.exports={outerCardContainer:"Join_outerCardContainer__3zIzS",imgProfile:"Join_imgProfile__36bzT",title:"Join_title__1Sc_l",btnFull:"Join_btnFull__1xtRG",noLink:"Join_noLink__2Pz86",badge:"Join_badge__2YXtq"}},24:function(e,a,t){e.exports={outerCardContainer:"Board_outerCardContainer__15NnH",imgProfile:"Board_imgProfile__3A9F-",title:"Board_title__3Zwr8",btnFull:"Board_btnFull__1kOVR",noLink:"Board_noLink__3kqzZ",row:"Board_row__1KseF",rowContainer:"Board_rowContainer__2t9vN"}},35:function(e,a,t){e.exports={outerContainer:"App_outerContainer__1ynt3",innerContainer:"App_innerContainer__2Zgrr",title:"App_title__-GfWs"}},67:function(e){e.exports=JSON.parse('["./img/avatars/001-man.png","./img/avatars/011-woman.png","./img/avatars/002-man.png","./img/avatars/003-man.png","./img/avatars/004-man.png","./img/avatars/005-man.png","./img/avatars/006-man.png","./img/avatars/007-man.png","./img/avatars/008-man.png","./img/avatars/009-man.png","./img/avatars/010-woman.png","./img/avatars/012-woman.png","./img/avatars/013-woman.png","./img/avatars/014-woman.png","./img/avatars/015-woman.png","./img/avatars/016-woman.png","./img/avatars/017-woman.png","./img/avatars/018-man.png","./img/avatars/019-man.png","./img/avatars/020-man.png","./img/avatars/021-man.png","./img/avatars/022-man.png","./img/avatars/023-man.png","./img/avatars/024-man.png","./img/avatars/025-man.png","./img/avatars/026-man.png","./img/avatars/027-woman.png","./img/avatars/028-woman.png","./img/avatars/029-woman.png","./img/avatars/030-woman.png","./img/avatars/031-woman.png","./img/avatars/032-woman.png","./img/avatars/033-woman.png","./img/avatars/034-woman.png","./img/avatars/035-man.png","./img/avatars/036-man.png","./img/avatars/037-man.png","./img/avatars/038-man.png","./img/avatars/039-man.png","./img/avatars/040-man.png","./img/avatars/041-man.png","./img/avatars/042-man.png","./img/avatars/043-woman.png","./img/avatars/044-woman.png","./img/avatars/045-woman.png","./img/avatars/046-woman.png","./img/avatars/047-woman.png","./img/avatars/048-woman.png","./img/avatars/049-woman.png","./img/avatars/050-woman.png"]')},74:function(e,a,t){e.exports={square:"Square_square__vIzNQ"}},81:function(e,a,t){e.exports=t(132)}},[[81,1,2]]]);
//# sourceMappingURL=main.e9f4ea2f.chunk.js.map